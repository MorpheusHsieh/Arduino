ä½¿ç”¨ ESP-01S ATcmd é€£ç·š HTTP Server æŠ“å–ç¶²é 


1.ä½¿ç”¨ RealTerm é€£ç·š ESP-01S

  (1).Display -> Ansi
  
  (2).Port -> Baud -> [ESP-01S baud rate]
  
      Port -> [ESP-01S COM port]
      
  (3) Change
 
 
2.åœ¨ Send é é¢åŸ·è¡Œ AT command

  (1).å‹¾é¸ EOL ä¸­çš„ +CR, +LF, +CR, +LF å››å€‹é¸é …
  
  (2).æ¸¬è©¦ AT å‘½ä»¤æ˜¯å¦å¯æ­£å¸¸åŸ·è¡Œ
  
      AT  
      
      OK  
      
  (3).å–å¾—éŸŒé«”ç‰ˆæœ¬ï¼š

      AT+GMR        
      AT version:1.2.0.0(Jul  1 2016 20:04:45)
      SDK version:1.5.4.1(39cb9a32) 
      Ai-Thinker Technology Co. Ltd.
      v1.5.4.1-a Nov 30 2017 15:54:29
      OK 
      
  (4).ESP-01S é‡æ–°å•Ÿå‹•
  
      AT+RST


      OK
      WIFI DISCONNECT
      
      ets Jan  8 2013,rst cause:2, boot mode:(3,7)
      
      load 0x40100000, len 1856, room 16 
      tail 0
      chksum 0x63
      load 0x3ffe8000, len 776, room 8 
      tail 0
      chksum 0x02
      load 0x3ffe8310, len 552, room 8 
      tail 0
      chksum 0x79
      csum 0x79
      
      2nd boot version : 1.5
        SPI Speed      : 40MHz
        SPI Mode       : DIO
        SPI Flash Size & Map: 8Mbit(512KB+512KB)
      jump to run user1 @ 1000
      
      æ–•???{é¤o<??îª{lï„{î™†çˆ?d`æ–•r?é§¤?l`ï—·sî–±? ?ll`{l?{l??clæ”˜s|ïœ±8`?é§¥l{ï–›cæªo?gn?ï‚»?d?l??????lÂ€o??è“Œcdép?è“Œcdï–™8{lsd
      Ai-Thinker Technology Co. Ltd.
      
      ready
      WIFI CONNECTED
      WIFI GOT IP

  
  (5).æŸ¥è©¢ç›®å‰å·¥ä½œæ¨¡å¼ï¼š
      
      ESP-01Sæœ‰ä¸‰ç¨®å·¥ä½œæ¨¡å¼ï¼Œåˆ†åˆ¥æ˜¯ï¼š
      1 -> Station (STA) ç¶²å¡æ¨¡å¼
      2 -> Access Point (AP) åŸºåœ°å°æ¨¡å¼
      3 -> BOTH (AP + STA).
      
      æ³¨æ„, åŸ·è¡Œ CWMODE æŒ‡ä»¤æŒ‡å®šå·¥ä½œæ¨¡å¼å¾Œï¼Œæœ€å¥½ç«‹å³åŸ·è¡Œ CWRST é‡å•Ÿ, ä»¥ç¢ºèªè¨­å®šç”Ÿæ•ˆã€‚
      
      AT+CWMODE?
      +CWMODE:1
      
      OK   

  (6).è¨­å®šå·¥ä½œæ¨¡å¼ï¼š
  
      AT+CWMODE=1

      OK  

  (7).æŸ¥è©¢IPï¼š
  
      AT+CIFSR
      +CIFSR:STAIP,"192.168.4.2"
      +CIFSR:STAMAC,"dc:4f:22:26:25:f0"

      OK

      å¾ä¸Šè¿°è¨Šæ¯å¯çŸ¥æ­¤æ¨¡çµ„å·²ç¶“è¢«æŒ‡æ´¾ "192.168.4.2" çš„ IP äº†ã€‚
      
  (8).åˆ—å‡ºé„°è¿‘åŸºåœ°å°æ¸…å–®ï¼š
  
      AT+CWLAP
    
      +CWLAP:(3,"My ASUS KNL",-72,"4c:ed:fb:72:82:ac",1,11,0)
      +CWLAP:(4,"Salvia-officinalis",-83,"6c:72:20:0d:a2:a8",1,-22,0)
      +CWLAP:(4,"wifi962",-82,"1c:5f:2b:8a:e5:26",1,0,0)
      +CWLAP:(4,"wyuwen",-85,"64:77:7d:fd:d7:b8",1,-4,0)
      +CWLAP:(3,"kumano",-88,"d0:17:c2:64:ef:1c",1,8,0)
      +CWLAP:(4,"DADA9631",-34,"e4:35:c8:21:e8:24",11,-7,0)
      +CWLAP:(0,"HP-Print-92-LaserJet 1102",-58,"c4:8e:8f:54:93:92",11,-21,0)
      +CWLAP:(3,"ESP8266",-37,"5e:cf:7f:fd:21:ce",11,-4,0)
      +CWLAP:(4,"Onedao",-54,"34:ce:00:35:7a:1b",6,13,0)
      +CWLAP:(3,"BB Home 6N5F",-78,"00:fc:8d:f8:67:e8",7,-12,0)
      +CWLAP:(4,"roger",-88,"00:22:2d:5e:79:2c",9,-19,0)
      +CWLAP:(3,"roger_2EX",-89,"74:da:38:e3:e1:3f",9,-2,0)
      +CWLAP:(3,"roger",-88,"74:da:3c:e3:e1:40",9,0,0)
    
      OK
      
  (9).é€£ç·šæŒ‡å®šä¹‹åŸºåœ°å°ï¼š
  
      AT+CWJAP="[SSID]","1234test"
      WIFI CONNECTED
      WIFI GOT IP
      
      OK  
      
  (10).æŸ¥è©¢é€£ç·šåˆ°å“ªä¸€å€‹åŸºåœ°å°ï¼š
  
      AT+CWJAP?
      +CWJAP:"ESP8266","5e:cf:7f:fd:21:ce",11,-42
      
      OK 
  
  (11).å»ºç«‹ TCP/IP é€£ç·šï¼š
  
       AT+CIPSTART="TCP","192.168.4.1",80
      CONNECT
      
      OK

  (12).æŸ¥è©¢ç›®å‰ TCP/IP é€£ç·šç‹€æ…‹ï¼š
  
      AT+CIPSTATUS
      STATUS:3
      +CIPSTATUS:0,"TCP","192.168.4.1",80,35250,0
      OK 

  (13).ä½¿ç”¨ GET æŒ‡ä»¤å–å¾— HTTP Server çš„è¨Šæ¯ï¼š
  
      æ­¤éƒ¨åˆ†æŒ‡ä»¤åˆ†ç‚ºå…©éƒ¨åˆ†ï¼š
      
      A.å‘Šè¨´ä¼ºæœå™¨è¦å‚³é€çš„æŒ‡ä»¤æœ‰å¹¾å€‹ä½å…ƒï¼š
      
        AT+CIPSEND=7
      
      B.åœ¨ '>' ç¬¦è™Ÿå‡ºç¾å¾Œï¼Œè¼¸å…¥ GET æŒ‡ä»¤ï¼š
      
        GET /
        
        å‚³é€çš„çš„è³‡æ–™æœ‰ 5å€‹ä½å…ƒï¼Œå†åŠ ä¸Š '\r\n' å‰›å¥½æ˜¯ 7å€‹ä½å…ƒã€‚
        
        å°‡æœƒæ”¶åˆ°å¾ HTTP Server å›å‚³çš„è³‡æ–™ã€‚
        
      åŸ·è¡Œéç¨‹å¦‚ä¸‹ï¼š
      
        AT+CIPSTART="TCP","192.168.4.1",80
        
        CONNECT
        
        OK
        AT+CIPSEND=7
        
        
        OK
        > 
        Recv 7 bytes
        
        SEND OK
        
        +IPD,211:<html><head>
        <meta http-equiv="refresh" content="10">
        <title>From ESP-01</title>
        </head><body>
        <p>ClientMsg: ,7:GET /
        </p>
        <p>Humidity: 53.00%</p>
        <p>Temperature: 21.00*C</p>
        </body>
        </html>
        CLOSED
      
      PS: æˆ‘å·²äº‹å…ˆåœ¨ä¼ºæœå™¨å»ºç«‹äº†ä¸€å€‹æº«æ¿•åº¦æ„Ÿæ¸¬çš„ç¶²é ï¼Œ
      
          æ‰€ä»¥å›å‚³å›ä¾†çš„è³‡è¨Šå°±æ˜¯ç¶²é å…§å®¹ã€‚
  
  (14).é—œé–‰ TCP/IP é€£ç·šï¼š
  
      AT+CIPCLOSE

      ERROR

      é€™æ˜¯å› ç‚ºåªæœ‰åœ¨ TCP/UDP CONNECTING æˆ– CONNECT OK ç‹€æ…‹ä¸‹ï¼Œ
      
      æ‰æœƒé—œé–‰é€£ç·šï¼Œå¦å‰‡æœƒèªç‚ºé—œé–‰å¤±æ•—å‚³å› ERRORã€‚
      
      
  (15).é›¢é–‹ç›®å‰é€£ç·šçš„åŸºåœ°å°ï¼š
  
      AT+CWQAP

      OK
      WIFI DISCONNECT

      
  
